import{L as m,T as h}from"./index-BG5Ynpes.js";import{d as f,r as d,m as w,b as l,o as n,h as p,e,t as a}from"./app-CadrZDUH.js";const k={class:"max-w-4xl mx-auto"},C={key:0,class:"text-center py-8"},N={key:1,class:"text-center py-8"},T={class:"text-gray-600"},E={key:2,class:"bg-white rounded-lg shadow-md"},L={class:"border-b border-gray-200 px-6 py-4"},S={class:"flex items-center justify-between"},O={class:"text-sm text-gray-500 mt-1"},B={class:"p-6"},D={class:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm"},U={class:"border-t border-gray-200 px-6 py-4"},V={class:"text-sm text-gray-500"},j={key:0},I=f({__name:"CodeView",props:{hash:{}},setup(x){const v=x,s=d(null),c=d(!0),r=d(null),i=async()=>{c.value=!0,r.value=null;try{const t=await fetch(`/api/codes/${v.hash}`);if(t.ok){const o=await t.json();s.value=o.data}else r.value="–°–Ω–∏–ø–ø–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"}catch(t){r.value="–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–Ω–∏–ø–ø–µ—Ç–∞",console.error("Error:",t)}finally{c.value=!1}},y=t=>m[t]||t,_=t=>h[t]||t,u=t=>new Date(t).toLocaleString("ru-RU"),b=async()=>{if(s.value)try{await navigator.clipboard.writeText(s.value.content),alert("–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞")}catch(t){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",t)}},g=async()=>{try{await navigator.clipboard.writeText(window.location.href),alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞")}catch(t){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",t)}};return w(()=>{i()}),(t,o)=>(n(),l("div",k,[c.value?(n(),l("div",C,o[0]||(o[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"–ó–∞–≥—Ä—É–∑–∫–∞ —Å–Ω–∏–ø–ø–µ—Ç–∞...",-1)]))):r.value?(n(),l("div",N,[o[1]||(o[1]=e("div",{class:"text-red-600 text-xl mb-4"},"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",-1)),e("p",T,a(r.value),1),e("button",{onClick:i,class:"mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ ")])):s.value?(n(),l("div",E,[e("div",L,[e("div",S,[e("div",null,[o[2]||(o[2]=e("h1",{class:"text-2xl font-bold text-gray-900"},"–°–Ω–∏–ø–ø–µ—Ç –∫–æ–¥–∞",-1)),e("p",O," –Ø–∑—ã–∫: "+a(y(s.value.language))+" | –¢–µ–º–∞: "+a(_(s.value.theme))+" | –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤: "+a(s.value.access_count),1)]),e("div",{class:"flex space-x-2"},[e("button",{onClick:b,class:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200"}," üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ "),e("button",{onClick:g,class:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm hover:bg-blue-200"}," üîó –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É ")])])]),e("div",B,[e("pre",D,[e("code",null,a(s.value.content),1)])]),e("div",U,[e("div",V,[e("p",null,"–°–æ–∑–¥–∞–Ω: "+a(u(s.value.created_at)),1),s.value.expires_at?(n(),l("p",j,"–ò—Å—Ç–µ–∫–∞–µ—Ç: "+a(u(s.value.expires_at)),1)):p("",!0)])])])):p("",!0)]))}});export{I as default};
