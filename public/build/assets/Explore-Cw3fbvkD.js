import{d as w,r as v,j as o,k as i,m as f,l as e,u as C,t as n,v as _,y as L,J as m,F as g,I as y,x as k,C as U,G as D}from"./app-D9TWZI0w.js";import{N as F,L as S,_ as I}from"./Navigation-CvhNgmgq.js";import{F as T}from"./Footer-BMyjveC_.js";import"./theme-Bvw3Cegi.js";import"./UserIcon-BMr3LM_6.js";const b={class:"explore-container"},B={class:"explore-content"},E={class:"explore-header"},M={class:"explore-title"},A={class:"explore-description"},G={class:"filters-section"},$={class:"filters-grid"},z={class:"filter-item"},O={class:"filter-item"},P=["value"],R={class:"filter-item"},j={class:"snippets-grid"},J={key:0,class:"snippets-list"},Q={class:"snippet-header"},q={class:"snippet-info"},H={class:"snippet-title"},K=["href"],W={class:"snippet-meta"},X={class:"snippet-language"},Y={class:"snippet-date"},Z={class:"snippet-views"},ee={class:"snippet-actions"},se=["href"],te={class:"snippet-preview"},ae={class:"snippet-code"},oe={key:1,class:"empty-state"},ie={key:0,class:"pagination"},ne=w({__name:"Explore",props:{snippets:{},filters:{},title:{},description:{},user:{}},setup(N){const c=N,l=v(c.filters?.search||""),r=v(c.filters?.language||""),d=v(c.filters?.sort||"latest");let p=null;const x=()=>{p&&clearTimeout(p),p=setTimeout(()=>{u()},500)},u=()=>{const t=new URLSearchParams;l.value&&t.append("search",l.value),r.value&&t.append("language",r.value),d.value&&t.append("sort",d.value),D.visit(`/explore?${t.toString()}`)},V=t=>new Date(t).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric"});return(t,a)=>(i(),o("div",b,[f(F,{user:t.user},null,8,["user"]),e("div",B,[e("div",E,[e("h1",M,n(t.title),1),e("p",A,n(t.description),1)]),e("div",G,[e("div",$,[e("div",z,[_(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),onInput:x,type:"text",placeholder:"Поиск сниппетов...",class:"filter-input"},null,544),[[L,l.value]])]),e("div",O,[_(e("select",{"onUpdate:modelValue":a[1]||(a[1]=s=>r.value=s),onChange:u,class:"filter-select"},[a[3]||(a[3]=e("option",{value:""},"Все языки",-1)),(i(!0),o(g,null,y(k(S),(s,h)=>(i(),o("option",{key:h,value:h},n(s),9,P))),128))],544),[[m,r.value]])]),e("div",R,[_(e("select",{"onUpdate:modelValue":a[2]||(a[2]=s=>d.value=s),onChange:u,class:"filter-select"},a[4]||(a[4]=[e("option",{value:"latest"},"Сначала новые",-1),e("option",{value:"popular"},"По популярности",-1),e("option",{value:"oldest"},"Сначала старые",-1)]),544),[[m,d.value]])])])]),e("div",j,[t.snippets.data&&t.snippets.data.length>0?(i(),o("div",J,[(i(!0),o(g,null,y(t.snippets.data,s=>(i(),o("div",{key:s.id,class:"snippet-card"},[e("div",Q,[e("div",q,[e("h3",H,[e("a",{href:`/code/${s.hash}`,class:"snippet-link"},n(s.content.substring(0,50))+"... ",9,K)]),e("div",W,[e("span",X,n(k(S)[s.language]||s.language),1),e("span",Y,n(V(s.created_at)),1),e("span",Z,n(s.access_count)+" просмотров",1)])]),e("div",ee,[e("a",{href:`/code/${s.hash}`,class:"btn-secondary"}," Просмотреть ",8,se)])]),e("div",te,[e("pre",ae,n(s.content.substring(0,200))+"...",1)])]))),128))])):(i(),o("div",oe,a[5]||(a[5]=[U('<div class="empty-icon" data-v-de050f87><svg class="empty-svg" fill="currentColor" viewBox="0 0 20 20" data-v-de050f87><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" data-v-de050f87></path></svg></div><h3 class="empty-title" data-v-de050f87>Сниппеты не найдены</h3><p class="empty-description" data-v-de050f87> Попробуйте изменить фильтры или создать первый сниппет </p><a href="/" class="btn-primary" data-v-de050f87>Создать сниппет</a>',4)])))]),t.snippets.data&&t.snippets.data.length>0?(i(),o("div",ie)):C("",!0)]),f(T)]))}}),ue=I(ne,[["__scopeId","data-v-de050f87"]]);export{ue as default};
