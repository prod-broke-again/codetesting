import{d as M,r as c,f as V,e as H,k as s,l as o,q as B,m as e,E as v,t as d,v as S,y as u,x as L,A as T,J as b,F as f,K as y,z as h,D as A,I as N}from"./app-fnbxaDK7.js";import{L as j,T as O}from"./index-BG5Ynpes.js";import{d as k,g as w,a as D}from"./languageDetector-BLh69cU_.js";import{_ as E}from"./Navigation.vue_vue_type_script_setup_true_lang-DG6Prznd.js";const I={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"},U={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},F={class:"text-center mb-12"},q={class:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent"},P={class:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed"},G={class:"max-w-4xl mx-auto"},J={class:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden"},K={class:"p-8"},X={class:"relative"},$={key:0,class:"absolute top-3 right-3 flex items-center space-x-2"},R={class:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-full text-xs font-medium"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},W=["value"],Y=["value"],Z={class:"flex items-center space-x-6"},ee={class:"flex items-center"},te={class:"flex justify-center"},re=["disabled"],ae={key:0,class:"flex items-center space-x-2"},le={key:1,class:"flex items-center space-x-2"},ue=M({__name:"Home",props:{title:{},description:{},user:{}},setup(se){const g=c(!1);let x=null;const r=V({content:"",language:"php",theme:"vs-dark",is_encrypted:!1,expires_at:"1"}),p=c(""),i=c(0),z=c([]),m=()=>{x&&clearTimeout(x),x=setTimeout(()=>{const a=k(r.content);p.value=a,i.value=w(r.content,a),z.value=D(r.content),i.value>60&&(r.language=a)},500)},_=()=>{const a=k(r.content);p.value=a,i.value=w(r.content,a),r.language=a},C=async()=>{g.value=!0;try{const a=await fetch("/api/codes",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"","X-Fingerprint":localStorage.getItem("fingerprint")||""},body:JSON.stringify(r)});if(a.ok){const t=await a.json();N.visit(`/code/${t.data.hash}`)}else{const t=await a.json();alert(t.message||"Ошибка создания сниппета")}}catch(a){console.error("Ошибка:",a),alert("Ошибка соединения с сервером")}finally{g.value=!1}};return H(()=>r.content,()=>{m()}),(a,t)=>(o(),s("div",I,[B(E,{user:a.user},null,8,["user"]),e("div",U,[e("div",F,[e("h1",q,d(a.title),1),e("p",P,d(a.description),1)]),t[15]||(t[15]=v('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12"><div class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 dark:border-gray-700/50 shadow-lg"><div class="flex items-center"><div class="p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl"><svg class="w-6 h-6 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div><div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Сниппетов создано</p><p class="text-2xl font-bold text-gray-900 dark:text-white">1,234</p></div></div></div><div class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 dark:border-gray-700/50 shadow-lg"><div class="flex items-center"><div class="p-3 bg-green-100 dark:bg-green-900/30 rounded-xl"><svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Языков поддержки</p><p class="text-2xl font-bold text-gray-900 dark:text-white">30+</p></div></div></div><div class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 dark:border-gray-700/50 shadow-lg"><div class="flex items-center"><div class="p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl"><svg class="w-6 h-6 text-purple-600 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd"></path></svg></div><div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Активных пользователей</p><p class="text-2xl font-bold text-gray-900 dark:text-white">567</p></div></div></div></div>',1)),e("div",G,[e("div",J,[t[14]||(t[14]=v('<div class="bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6"><div class="flex items-center space-x-3"><div class="p-2 bg-white/20 rounded-lg"><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg></div><div><h2 class="text-2xl font-bold text-white">Создать новый сниппет</h2><p class="text-blue-100">Быстро и безопасно поделитесь своим кодом</p></div></div></div>',1)),e("div",K,[e("form",{onSubmit:S(C,["prevent"]),class:"space-y-6"},[e("div",null,[t[6]||(t[6]=e("label",{for:"code",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Ваш код ",-1)),e("div",X,[u(e("textarea",{id:"code","onUpdate:modelValue":t[0]||(t[0]=l=>r.content=l),onInput:m,rows:"12",class:"block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm",placeholder:"Вставьте ваш код здесь...",required:""},null,544),[[T,r.content]]),i.value>0?(o(),s("div",$,[e("div",R,d(i.value)+"% "+d(p.value),1),e("button",{type:"button",onClick:_,class:"p-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-colors",title:"Автоопределение языка"},t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)]))])):L("",!0)])]),e("div",Q,[e("div",null,[t[7]||(t[7]=e("label",{for:"language",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Язык программирования ",-1)),u(e("select",{id:"language","onUpdate:modelValue":t[1]||(t[1]=l=>r.language=l),class:"block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(o(!0),s(f,null,y(h(j),(l,n)=>(o(),s("option",{key:n,value:n},d(l),9,W))),128))],512),[[b,r.language]])]),e("div",null,[t[8]||(t[8]=e("label",{for:"theme",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Тема оформления ",-1)),u(e("select",{id:"theme","onUpdate:modelValue":t[2]||(t[2]=l=>r.theme=l),class:"block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(o(!0),s(f,null,y(h(O),(l,n)=>(o(),s("option",{key:n,value:n},d(l),9,Y))),128))],512),[[b,r.theme]])]),e("div",null,[t[10]||(t[10]=e("label",{for:"expires_at",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Время жизни ",-1)),u(e("select",{id:"expires_at","onUpdate:modelValue":t[3]||(t[3]=l=>r.expires_at=l),class:"block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},t[9]||(t[9]=[e("option",{value:"1"},"1 день",-1),e("option",{value:"7"},"7 дней",-1),e("option",{value:"30"},"30 дней",-1),e("option",{value:"0"},"Навсегда",-1)]),512),[[b,r.expires_at]])])]),e("div",Z,[e("label",ee,[u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>r.is_encrypted=l),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[A,r.is_encrypted]]),t[11]||(t[11]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Зашифровать сниппет",-1))])]),e("div",te,[e("button",{type:"submit",disabled:g.value,class:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"},[g.value?(o(),s("div",ae,t[12]||(t[12]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",null,"Создание...",-1)]))):(o(),s("div",le,t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),e("span",null,"Создать сниппет",-1)])))],8,re)])],32)])])]),t[16]||(t[16]=v('<div class="mt-20 grid grid-cols-1 md:grid-cols-3 gap-8"><div class="text-center"><div class="mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path></svg></div><h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Безопасность</h3><p class="text-gray-600 dark:text-gray-400">Ваш код защищен шифрованием и временными токенами доступа</p></div><div class="text-center"><div class="mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mb-4"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></div><h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">30+ языков</h3><p class="text-gray-600 dark:text-gray-400">Поддержка всех популярных языков программирования</p></div><div class="text-center"><div class="mx-auto w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-4"><svg class="w-8 h-8 text-purple-600 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path></svg></div><h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Умное восстановление</h3><p class="text-gray-600 dark:text-gray-400">Автоматическое связывание сниппетов по fingerprint</p></div></div>',1))])]))}});export{ue as default};
