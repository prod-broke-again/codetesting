import{d as _,r as j,a as k,c as d,b as n,o as r,e as t,w as O,f as p,v as f,F as c,g as m,h as E,t as u,u as S}from"./app-3qNf4nrR.js";import{L as b,T}from"./index-BG5Ynpes.js";const L={class:"max-w-4xl mx-auto"},N={class:"bg-white rounded-lg shadow-md p-6"},M={label:"Основные языки"},U=["value"],V={label:"Смешанные типы"},A=["value"],B={label:"Дополнительные языки"},C=["value"],F=["value"],P={class:"flex justify-end"},q=["disabled"],I=_({__name:"Home",setup(D){const g=S(),i=j(!1),a=k({content:"",language:"php",theme:"vs-dark"}),x=d(()=>{const o=["php","javascript","python","java","csharp","cpp","go","rust","typescript","html","css","sql"];return Object.fromEntries(Object.entries(b).filter(([e])=>o.includes(e)))}),v=d(()=>{const o=["php-html","vue","blade","jsx","tsx","html-css","html-js","php-blade"];return Object.fromEntries(Object.entries(b).filter(([e])=>o.includes(e)))}),y=d(()=>{const o=["ruby","swift","kotlin","scala","dart","elixir","haskell","clojure","bash","powershell","yaml","json","xml","markdown"];return Object.fromEntries(Object.entries(b).filter(([e])=>o.includes(e)))}),h=d(()=>T),w=async()=>{if(!a.content.trim()){alert("Введите код");return}i.value=!0;try{const o=await fetch("/api/codes",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify(a)});if(o.ok){const e=await o.json();g.push(`/code/${e.hash}`)}else throw new Error("Ошибка создания сниппета")}catch(o){console.error("Error:",o),alert("Ошибка создания сниппета")}finally{i.value=!1}};return(o,e)=>(r(),n("div",L,[e[7]||(e[7]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-4xl font-bold text-gray-900 mb-4"}," Делитесь кодом безопасно "),t("p",{class:"text-xl text-gray-600"}," Создавайте зашифрованные сниппеты кода и делитесь ими с коллегами ")],-1)),t("div",N,[e[6]||(e[6]=t("h2",{class:"text-2xl font-semibold mb-4"},"Создать новый сниппет",-1)),t("form",{onSubmit:O(w,["prevent"]),class:"space-y-4"},[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Язык программирования ",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.language=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[t("optgroup",M,[(r(!0),n(c,null,m(x.value,(s,l)=>(r(),n("option",{key:l,value:l},u(s),9,U))),128))]),t("optgroup",V,[(r(!0),n(c,null,m(v.value,(s,l)=>(r(),n("option",{key:l,value:l},u(s),9,A))),128))]),t("optgroup",B,[(r(!0),n(c,null,m(y.value,(s,l)=>(r(),n("option",{key:l,value:l},u(s),9,C))),128))])],512),[[f,a.language]])]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Тема оформления ",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.theme=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[(r(!0),n(c,null,m(h.value,(s,l)=>(r(),n("option",{key:l,value:l},u(s),9,F))),128))],512),[[f,a.theme]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Код ",-1)),p(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.content=s),rows:"12",placeholder:"Введите ваш код здесь...",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"},null,512),[[E,a.content]])]),t("div",P,[t("button",{type:"submit",disabled:i.value,class:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50"},u(i.value?"Создание...":"Создать сниппет"),9,q)])],32)])]))}});export{I as default};
